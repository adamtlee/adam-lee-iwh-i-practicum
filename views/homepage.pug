doctype html
html 
    head 
        title= `${title}`
        meta(name="viewport" content="width=device-width, initial-scale=1")
        script(src="https://cdn.tailwindcss.com")
        link(rel="stylesheet", href="/css/style.css")
    body(class="p-8 bg-gray-50")
        h1(class="text-3xl font-bold mb-6 text-gray-800") Contacts
        
        if data && data.length > 0
            - var allProperties = []
            - data.forEach(contact => { Object.keys(contact.properties || {}).forEach(prop => { if (allProperties.indexOf(prop) === -1) allProperties.push(prop); }); })
            - var preferredOrder = ['hs_object_id', 'firstname', 'lastname', 'email', 'createdate', 'lastmodifieddate']
            - var orderedProperties = []
            - preferredOrder.forEach(prop => { if (allProperties.indexOf(prop) !== -1) { orderedProperties.push(prop); allProperties.splice(allProperties.indexOf(prop), 1); } })
            - orderedProperties = orderedProperties.concat(allProperties.sort())
            
            div(class="overflow-x-auto")
                table(class="min-w-full bg-white border border-gray-200 rounded-lg shadow-md")
                    thead(class="bg-gray-100")
                        tr
                            each prop in orderedProperties
                                th(class="px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider border-b")= prop
                    tbody(class="divide-y divide-gray-200")
                        each contact in data
                            tr(class="hover:bg-gray-50 transition-colors")
                                each prop in orderedProperties
                                    td(class="px-6 py-4 whitespace-nowrap text-sm text-gray-900")= contact.properties[prop] || '-'
        else
            p(class="text-gray-600") No contacts found.

